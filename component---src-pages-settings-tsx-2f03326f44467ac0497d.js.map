{"version":3,"file":"component---src-pages-settings-tsx-2f03326f44467ac0497d.js","mappings":"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","sources":["webpack://gatsby-starter-ts/./src/components/Card/Card.module.css","webpack://gatsby-starter-ts/./src/components/Card/Card.tsx","webpack://gatsby-starter-ts/./src/components/Layout/Header.module.css","webpack://gatsby-starter-ts/./src/components/Layout/Header.tsx","webpack://gatsby-starter-ts/./src/components/Layout/Layout.tsx","webpack://gatsby-starter-ts/./src/components/Layout/Layout.module.css","webpack://gatsby-starter-ts/./src/hooks/useTextToSpeech.ts","webpack://gatsby-starter-ts/./src/components/Button/Button.module.css","webpack://gatsby-starter-ts/./src/components/Button/Button.tsx","webpack://gatsby-starter-ts/./src/pages/settings.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var card = \"Card-module--card--f5e30\";\nexport var title = \"Card-module--title--6c656\";","import React from 'react';\nimport * as styles from './Card.module.css';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  title?: string;\n}\n\nconst Card: React.FC<CardProps> = ({ children, className = ``, title }) => {\n  return (\n    <div className={`${styles.card} ${className}`}>\n      {title && <h3 className={styles.title}>{title}</h3>}\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","// extracted by mini-css-extract-plugin\nexport var brand = \"Header-module--brand--cd1e0\";\nexport var hamburger = \"Header-module--hamburger--e903c\";\nexport var header = \"Header-module--header--3c58a\";\nexport var link = \"Header-module--link--81fac\";\nexport var linkActive = \"Header-module--linkActive--0253b\";\nexport var nav = \"Header-module--nav--2a51c\";\nexport var open = \"Header-module--open--2e3a8\";","import React from 'react';\nimport { Link } from 'gatsby';\nimport * as styles from './Header.module.css';\n\nconst Header: React.FC = () => {\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n\n  return (\n    <header className={styles.header}>\n      <Link to=\"/\" className={styles.brand}>\n        <span>üêù</span>\n        <span>Spelling Bee Toolbox</span>\n      </Link>\n\n      <button\n        className={styles.hamburger}\n        onClick={toggleMenu}\n        aria-label=\"Toggle navigation\"\n      >\n        <span />\n        <span />\n        <span />\n      </button>\n\n      <nav className={`${styles.nav} ${isMenuOpen ? styles.open : ``}`}>\n        <Link\n          to=\"/\"\n          className={styles.link}\n          activeClassName={styles.linkActive}\n          onClick={() => setIsMenuOpen(false)}\n        >\n          Home\n        </Link>\n        <Link\n          to=\"/labs\"\n          className={styles.link}\n          activeClassName={styles.linkActive}\n          onClick={() => setIsMenuOpen(false)}\n        >\n          Word Labs\n        </Link>\n        <Link\n          to=\"/dashboard\"\n          className={styles.link}\n          activeClassName={styles.linkActive}\n          onClick={() => setIsMenuOpen(false)}\n        >\n          Progress\n        </Link>\n        <Link\n          to=\"/settings\"\n          className={styles.link}\n          activeClassName={styles.linkActive}\n          onClick={() => setIsMenuOpen(false)}\n        >\n          Settings\n        </Link>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport Header from './Header';\nimport * as styles from './Layout.module.css';\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\n  return (\n    <div className={styles.container}>\n      <Header />\n      <main className={styles.main}>{children}</main>\n      <footer className={styles.footer}>\n        ¬© {new Date().getFullYear()} Spelling Bee Site. All rights reserved.\n      </footer>\n    </div>\n  );\n};\n\nexport default Layout;\n","// extracted by mini-css-extract-plugin\nexport var container = \"Layout-module--container--172c3\";\nexport var footer = \"Layout-module--footer--daa62\";\nexport var main = \"Layout-module--main--9156d\";","import { useState, useEffect, useCallback } from 'react';\nimport { useUser } from '../context/UserContext';\n\nexport const useTextToSpeech = () => {\n  /* eslint-disable no-undef */\n  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);\n  /* eslint-enable no-undef */\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [supported, setSupported] = useState(false);\n\n  // Safely try to access UserContext, fall back if used outside provider\n  let userVoiceURI: string | undefined;\n  try {\n    const { user } = useUser();\n    userVoiceURI = user?.voiceURI;\n  } catch (e) {\n    // Ignore error if context is missing (though it ideally shouldn't be)\n  }\n\n  useEffect(() => {\n    if (typeof window !== `undefined` && `speechSynthesis` in window) {\n      setSupported(true);\n\n      const updateVoices = () => {\n        setVoices(window.speechSynthesis.getVoices());\n      };\n\n      updateVoices();\n      window.speechSynthesis.onvoiceschanged = updateVoices;\n    }\n  }, []);\n\n  const speak = useCallback(\n    (text: string, rate = 0.9) => {\n      if (!supported) return;\n\n      window.speechSynthesis.cancel(); // Stop any current speech\n\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = rate; // Slightly slower is better for spelling\n      utterance.pitch = 1;\n\n      // Select voice: User preference > Native English > First English\n      let selectedVoice;\n\n      if (userVoiceURI) {\n        selectedVoice = voices.find((v) => v.voiceURI === userVoiceURI);\n      }\n\n      if (!selectedVoice) {\n        selectedVoice =\n          voices.find((v) => v.lang.startsWith(`en`) && v.localService) ||\n          voices.find((v) => v.lang.startsWith(`en`));\n      }\n\n      if (selectedVoice) {\n        utterance.voice = selectedVoice;\n      }\n\n      utterance.onstart = () => setIsSpeaking(true);\n      utterance.onend = () => setIsSpeaking(false);\n      utterance.onerror = () => setIsSpeaking(false);\n\n      window.speechSynthesis.speak(utterance);\n    },\n    [supported, voices, userVoiceURI],\n  );\n\n  const cancel = useCallback(() => {\n    if (supported) {\n      window.speechSynthesis.cancel();\n      setIsSpeaking(false);\n    }\n  }, [supported]);\n\n  return { speak, cancel, isSpeaking, supported, voices };\n};\n","// extracted by mini-css-extract-plugin\nexport var button = \"Button-module--button--c17ef\";\nexport var danger = \"Button-module--danger--df330\";\nexport var large = \"Button-module--large--e508c\";\nexport var medium = \"Button-module--medium--16137\";\nexport var outline = \"Button-module--outline--22055\";\nexport var primary = \"Button-module--primary--2e17d\";\nexport var secondary = \"Button-module--secondary--e788d\";\nexport var small = \"Button-module--small--c0339\";","import React from 'react';\nimport * as styles from './Button.module.css';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'danger' | 'outline';\n  size?: 'small' | 'medium' | 'large';\n  children: React.ReactNode;\n}\n\nconst Button: React.FC<ButtonProps> = ({\n  variant = `primary`,\n  size = `medium`,\n  className = ``,\n  children,\n  ...props\n}) => {\n  const rootClassName = [\n    styles.button,\n    styles[variant],\n    styles[size],\n    className,\n  ]\n    .filter(Boolean)\n    .join(` `);\n\n  return (\n    <button className={rootClassName} {...props}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useEffect, useState } from 'react';\nimport Layout from '../components/Layout/Layout';\nimport Button from '../components/Button/Button';\nimport Card from '../components/Card/Card';\nimport { useUser } from '../context/UserContext';\nimport { useTextToSpeech } from '../hooks/useTextToSpeech';\n\nconst SettingsPage = () => {\n  const { user, updateProgress } = useUser();\n  const { voices, speak } = useTextToSpeech();\n  const [availableVoices, setAvailableVoices] = useState<SpeechSynthesisVoice[]>(\n    []\n  );\n\n  useEffect(() => {\n    // Filter for English voices roughly\n    if (voices.length > 0) {\n      setAvailableVoices(voices.filter((v) => v.lang.startsWith('en')));\n    }\n  }, [voices]);\n\n  const handleVoiceChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    updateProgress({ voiceURI: e.target.value });\n  };\n\n  const currentVoice = availableVoices.find(\n    (v) => v.voiceURI === user.voiceURI\n  );\n\n  return (\n    <Layout>\n      <div style={{ maxWidth: '800px', margin: '0 auto', padding: '2rem' }}>\n        <h1 style={{ marginBottom: '2rem', color: 'var(--color-primary)' }}>\n          Settings\n        </h1>\n\n        <Card title=\"Voice Settings\">\n          <div style={{ padding: '1rem 0' }}>\n            <p style={{ marginBottom: '1rem' }}>\n              Choose the voice you want to hear for spelling words and questions.\n            </p>\n\n            <div\n              style={{\n                display: 'flex',\n                gap: '1rem',\n                alignItems: 'center',\n                flexWrap: 'wrap',\n              }}\n            >\n              <select\n                value={user.voiceURI || ''}\n                onChange={handleVoiceChange}\n                style={{\n                  padding: '0.75rem',\n                  borderRadius: '8px',\n                  border: '1px solid var(--color-gray-300)',\n                  fontSize: '1rem',\n                  minWidth: '300px',\n                  maxWidth: '100%',\n                }}\n              >\n                <option value=\"\">Default (System Choice)</option>\n                {availableVoices.map((voice) => (\n                  <option key={voice.voiceURI} value={voice.voiceURI}>\n                    {voice.name} ({voice.lang})\n                  </option>\n                ))}\n              </select>\n\n              <Button\n                variant=\"secondary\"\n                size=\"small\"\n                onClick={() =>\n                  speak(\n                    `Hello! This is how I sound. Spelling Bee is fun!`,\n                    0.9\n                  )\n                }\n              >\n                üîä Test Voice\n              </Button>\n            </div>\n\n            {currentVoice && (\n              <p\n                style={{\n                  marginTop: '1rem',\n                  fontSize: '0.9rem',\n                  color: 'var(--color-gray-600)',\n                }}\n              >\n                Selected: <strong>{currentVoice.name}</strong>\n              </p>\n            )}\n          </div>\n        </Card>\n\n        <div style={{ marginTop: '2rem', textAlign: 'center' }}>\n            <p style={{marginBottom: '1rem'}}>More settings coming soon!</p>\n            <Button variant=\"outline\" onClick={() => window.history.back()}>\n                Back\n            </Button>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default SettingsPage;\n"],"names":["_ref","children","className","title","_jsxs","_jsx","linkActive","Header","isMenuOpen","setIsMenuOpen","React","Link","to","onClick","toggleMenu","styles","activeClassName","Date","getFullYear","useTextToSpeech","voices","setVoices","useState","isSpeaking","setIsSpeaking","supported","setSupported","userVoiceURI","user","useUser","voiceURI","e","useEffect","window","updateVoices","speechSynthesis","getVoices","onvoiceschanged","speak","useCallback","text","rate","cancel","utterance","SpeechSynthesisUtterance","selectedVoice","pitch","find","v","lang","startsWith","localService","voice","onstart","onend","onerror","danger","large","medium","outline","primary","secondary","small","variant","size","props","rootClassName","filter","Boolean","join","SettingsPage","updateProgress","availableVoices","setAvailableVoices","length","currentVoice","Layout","style","maxWidth","margin","padding","marginBottom","color","Card","display","gap","alignItems","flexWrap","value","onChange","target","borderRadius","border","fontSize","minWidth","map","name","Button","marginTop","textAlign","history","back"],"ignoreList":[],"sourceRoot":""}